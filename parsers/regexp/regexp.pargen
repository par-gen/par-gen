#######################################
#
# Tokens
#
CHARACTER := '[^\\\|\(\)\*?+]|\\[\.\*\+\?\\\(\)\|rnbtf]';
UNION := '\|';
PAREN_OPEN := '\(';
PAREN_CLOSE := '\)';
QUANTIFIER := '[\*?+]';

#######################################
#
# Rules
#

RegExp := Expression;

Expression := Union | Group | Sequence;

Group :=
    PAREN_OPEN Union PAREN_CLOSE
  | PAREN_OPEN Union PAREN_CLOSE QUANTIFIER
  | PAREN_OPEN Sequence PAREN_CLOSE
  | PAREN_OPEN Sequence PAREN_CLOSE QUANTIFIER
  ;

Union :=
    Sequence UNION Sequence
  | Union UNION Sequence
  ;

Sequence :=
    Atom
  | Sequence Atom
  ;

Atom :=
    CHARACTER
  | CHARACTER QUANTIFIER
  | Group
  | Group QUANTIFIER
  ;
